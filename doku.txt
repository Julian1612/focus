# ğŸ“– FocusOS Dokumentation

Herzlich willkommen zur offiziellen Dokumentation von FocusOS, deinem modularen Dashboard fÃ¼r maximale ProduktivitÃ¤t! ğŸš€

Dieses Dokument ist dein zentraler Anlaufpunkt â€“ egal, ob du die App einfach nur nutzen oder selbst kreativ werden und eigene Apps entwickeln mÃ¶chtest.

---

## 1. Ãœbersicht & Philosophie ğŸ¯

FocusOS ist eine Single-Page-Anwendung, die dir hilft, Klarheit in deinen Tag zu bringen, Aufgaben zu meistern und deine Konzentration durch gezielte Arbeitseinheiten zu bÃ¼ndeln.

Die Kernphilosophie von FocusOS ist eine **stabile und flexible, plugin-basierte Architektur**:

> **ğŸ§  Der FocusOS Kern:** Das HerzstÃ¼ck der Anwendung. Er umfasst die unverzichtbaren, tÃ¤glich genutzten Funktionen: den Tagesplaner, die To-Do-Liste und die Fokussitzung (Timer). Der Kern ist darauf ausgelegt, absolut stabil und performant zu sein.

> **ğŸ§© Das App-Ã–kosystem:** Alle Zusatzfunktionen sind als eigenstÃ¤ndige "Apps" gekapselt. Diese werden dynamisch in das System geladen und kommunizieren mit dem Kern Ã¼ber eine sichere Schnittstelle (`dashboardAPI`). Das macht FocusOS unendlich erweiterbar, ohne die StabilitÃ¤t des Kerns zu gefÃ¤hrden.

---

## 2. Die Hauptfunktionen (FocusOS Kern)

Der Kern bietet dir drei perfekt aufeinander abgestimmte Werkzeuge fÃ¼r deinen Tag.

### 2.1. Der Tagesplaner ğŸ—“ï¸

Der Tagesplaner ist deine visuelle Kommandozentrale von 07:00 bis 21:00 Uhr. Hier organisierst du deinen Tag in Ã¼bersichtlichen ZeitblÃ¶cken.

* **Ereignisse erstellen:** **Klicke und ziehe** einfach mit der Maus in einem freien Bereich der Zeitleiste. Sobald du loslÃ¤sst, kannst du deinem neuen Block einen Namen und eine Kategorie geben.
* **Drag & Drop:** Ein Plan hat sich geÃ¤ndert? Kein Problem! **Verschiebe** bestehende BlÃ¶cke einfach an eine neue Uhrzeit.
* **GrÃ¶ÃŸe anpassen:** Eine Aufgabe dauert lÃ¤nger? **Ziehe** den unteren Rand eines Ereignisses, um die Dauer anzupassen. Die Zeit rastet dabei immer im 15-Minuten-Takt ein.
* **LÃ¶schen:** Fahre mit der Maus Ã¼ber ein Ereignis und klicke auf das `Ã—`, um es zu entfernen.
* **Magische Synchronisation:** **Jeder Block im Planer ist direkt mit einer Aufgabe in der To-Do-Liste verknÃ¼pft.** Erstellst, Ã¤nderst oder lÃ¶schst du hier etwas, passiert es automatisch auch dort â€“ und umgekehrt!

### 2.2. Die To-Do-Liste âœ…

Hier werden aus PlÃ¤nen konkrete, abhakbare Aufgaben.

* **Aufgaben hinzufÃ¼gen:** Gib einen Namen und eine geschÃ¤tzte Dauer in Minuten ein, wÃ¤hle eine Kategorie und klicke auf `+`. Deine Aufgabe erscheint sofort in der Liste und bekommt automatisch den nÃ¤chsten freien Platz im Tagesplaner.
* **Aufgaben bearbeiten:** **Doppelklicke** auf den Text einer Aufgabe, um ihn schnell und einfach zu Ã¤ndern.
* **Mehr Details:** FÃ¼ge **Unteraufgaben** oder **Notizen** hinzu, indem du mit der Maus Ã¼ber eine Aufgabe fÃ¤hrst und die entsprechenden Symbole anklickst.
* **Aufgaben abschlieÃŸen:** Der beste Klick des Tages! Hake die Checkbox ab, um eine Aufgabe als erledigt zu markieren und deinen Tagesfortschritt zu steigern.
* **Direkt loslegen:** Klicke auf das â–º-Symbol bei einer Aufgabe, um sofort eine Fokussitzung dafÃ¼r zu starten.

### 2.3. Die Fokussitzung â±ï¸

Dies ist dein Werkzeug, um konzentriert zu arbeiten und deine PlÃ¤ne in die Tat umzusetzen.

* **NÃ¤chste Aufgabe starten:** Klicke auf "NÃ¤chste Aufgabe starten", um automatisch einen Timer fÃ¼r die oberste, unerledigte Aufgabe zu beginnen.
* **Manueller Start:** WÃ¤hle gezielt eine Aufgabe aus deiner To-Do-Liste und starte den Timer Ã¼ber das â–º-Symbol.
* **Globaler Timer:** WÃ¤hrend eine Sitzung lÃ¤uft, siehst du oben rechts eine kleine Anzeige des Timers. So hast du die Zeit immer im Blick, egal was du gerade tust.
* **Volle Kontrolle:** Pausiere oder brich einen laufenden Timer jederzeit ab.
* **Tagesfortschritt:** Der Fortschrittsbalken zeigt dir auf einen Blick, wie viel Prozent deiner geplanten Arbeitszeit du heute schon geschafft hast. Ein super Motivator!

---

## 3. Das App-Ã–kosystem ğŸš€

Apps sind das, was FocusOS wirklich besonders macht. Sie erweitern die FunktionalitÃ¤t, ohne den Kern zu belasten.

**Aktuell installierte Apps:**

* **ğŸ¶ Fokus FM:** Ein eingebetteter YouTube-Stream mit entspannter Lo-Fi-Musik fÃ¼r maximale Konzentration.
* **ğŸ“‹ Meine Routine:** Eine einfache Checkliste fÃ¼r deine Morgen-, Arbeits- und Feierabendroutinen.
* **ğŸ“ Notizen:** Ein digitales Notizbuch, das deine Gedanken automatisch speichert.
* **ğŸ¯ Today's Focus:** Zeigt dir deine nÃ¤chste anstehende Aufgabe und lÃ¤sst dich mit einem Klick eine Fokussitzung starten.

---

## 4. Entwickler-Zentrale: Baue deine eigene App ğŸ‘¨â€ğŸ’»

Du hast eine Idee fÃ¼r eine Funktion? GroÃŸartig! Das App-System von FocusOS ist darauf ausgelegt, dir das Entwickeln so einfach wie mÃ¶glich zu machen.

### 4.1. Quickstart: Deine erste App in 6 Schritten

Dies ist der schnellste Weg, um eine App zum Laufen zu bringen.

1.  **Ordnerstruktur anlegen:** Erstelle einen neuen Ordner im `/apps/`-Verzeichnis. Der Name sollte kurz, aussagekrÃ¤ftig und kleingeschrieben sein (z.B. `mein-rechner`).

    ```plaintext
    /apps/
    â””â”€â”€ /mein-rechner/
    ```

2.  **Das Manifest (`app.json`) erstellen:** Jede App braucht eine `app.json`. Sie ist wie der "Personalausweis" deiner App.

    **`/apps/mein-rechner/app.json`:**
    ```json
    {
      "id": "mein-rechner",
      "name": "Mein Rechner",
      "icon": "<svg>...</svg>",
      "entrypoints": {
        "html": "index.html",
        "js": "main.js"
      }
    }
    ```

3.  **Die BenutzeroberflÃ¤che (`index.html`) erstellen:** Erstelle das HTML fÃ¼r deine App. Es ist ein einfaches HTML-Fragment, das in das Modal-Fenster geladen wird.

    **`/apps/mein-rechner/index.html`:**
    ```html
    <style>
      /* Dein App-spezifisches CSS hier */
    </style>
    <h2>Mein super Rechner</h2>
    <div id="rechner-ui">
      </div>
    ```

4.  **Die App-Logik (`main.js`) schreiben:** Die `main.js` ist das Gehirn deiner App. Sie muss eine `export function init()` enthalten.

    **`/apps/mein-rechner/main.js`:**
    ```javascript
    /**
     * Haupt-Skript fÃ¼r die Rechner-App.
     */
    export function init(api, appRootElement) {
        console.log("Rechner-App wurde geladen!");

        // api: Deine Verbindung zum FocusOS-Kern.
        // appRootElement: Das DOM-Element, in dem dein HTML liegt.
    }
    ```

5.  **Die App registrieren:** Damit der App-Loader deine neue App finden kann, fÃ¼ge den Namen deines App-Ordners zur Liste in `js/services/appLoader.js` hinzu.

    **`/js/services/appLoader.js`:**
    ```javascript
    // ...
    const APP_DIRECTORIES = ['focus-fm', 'routine', 'notes', 'todays-focus', 'mein-rechner']; // <-- Hier hinzufÃ¼gen
    // ...
    ```
6. **Seite neu laden & fertig!** Deine App erscheint nun in der Seitenleiste.

### 4.2. Die `dashboardAPI` im Detail: Deine BrÃ¼cke zum Kern ğŸŒ‰

Die `dashboardAPI` ist das HerzstÃ¼ck der App-Entwicklung. Sie ist als Objekt `api` in deiner `init()`-Funktion verfÃ¼gbar und stellt sicher, dass du nur auf kontrollierte und sichere Weise mit dem Kern interagieren kannst.

#### Daten aus dem Kernsystem lesen

Diese Funktionen geben dir eine **Kopie** der Daten. Du kannst den Kernzustand nicht versehentlich Ã¤ndern.

| Funktion              | RÃ¼ckgabewert      | Beschreibung                                                                                              |
|-----------------------|-------------------|-----------------------------------------------------------------------------------------------------------|
| `getActiveTodos()`    | `Array<object>`   | Holt eine Liste aller unerledigten To-Do-Aufgaben. Jedes Objekt enthÃ¤lt Felder wie `id`, `text` und `time`. |
| `getRoutine()`        | `Array<object>`   | Holt die aktuelle Routine-Checkliste mit allen Abschnitten und EintrÃ¤gen.                                 |
| `getPlannerEvents()`  | `Array<object>`   | Gibt eine Liste aller Ereignisse aus dem Tagesplaner zurÃ¼ck.                                              |

**Beispiel: Die nÃ¤chste Aufgabe anzeigen**
```javascript
export function init(api, appRootElement) {
    const todos = api.getActiveTodos();
    if (todos.length > 0) {
        appRootElement.innerHTML = `<h3>NÃ¤chste Aufgabe:</h3><p>${todos[0].text}</p>`;
    } else {
        appRootElement.innerHTML = `<p>Super! Alles erledigt!</p>`;
    }
}
Aktionen im Kernsystem auslÃ¶sen
Mit diesen Funktionen kannst du den Kern anweisen, Aktionen fÃ¼r dich auszufÃ¼hren.

Funktion	Parameter	Beschreibung
updateRoutineItem()	itemId (string), completed (boolean)	Hakt einen Punkt auf der Routine-Liste ab (oder macht es rÃ¼ckgÃ¤ngig).
startTimerForTask()	taskId (string)	Startet den globalen Fokustimer fÃ¼r eine bestimmte taskId aus der To-Do-Liste.

In Google Sheets exportieren
Beispiel: Einen Timer fÃ¼r die erste Aufgabe starten

JavaScript

export function init(api, appRootElement) {
    const todos = api.getActiveTodos();
    if (todos.length > 0) {
        const firstTaskId = todos[0].id;
        api.startTimerForTask(firstTaskId);
    }
}
App-spezifische Daten speichern & laden
Jede App hat ihren eigenen, privaten Speicherplatz. Deine Daten sind sicher vor anderen Apps.

Funktion	Parameter	Beschreibung
saveData()	appId (string), key (string), value (any)	Speichert Daten speziell fÃ¼r deine App (z.B. api.saveData('mein-rechner', 'letzteZahl', 42)).
loadData()	appId (string), key (string)	any

In Google Sheets exportieren
Beispiel: Einen ZÃ¤hler speichern

JavaScript

export function init(api, appRootElement) {
    const APP_ID = 'mein-zaehler';
    let count = api.loadData(APP_ID, 'count') || 0;

    appRootElement.innerHTML = `<button id="counter-btn">Klicks: ${count}</button>`;
    
    const button = appRootElement.querySelector('#counter-btn');
    button.addEventListener('click', () => {
        count++;
        button.textContent = `Klicks: ${count}`;
        api.saveData(APP_ID, 'count', count);
    });
}
4.3. Inter-App-Kommunikation: Events senden & empfangen ğŸ“¡
Manchmal muss eine App wissen, was eine andere App tut. Anstatt direkten Zugriff zu gewÃ¤hren (was unsicher wÃ¤re), verwendet FocusOS ein Event-System. Apps kÃ¶nnen Nachrichten ("Events") in das System senden, und andere Apps kÃ¶nnen diese Nachrichten abonnieren.

Funktion	Parameter	Beschreibung
publishEvent()	eventName (string), payload (object)	Sendet ein Event-Signal an alle anderen Apps. payload sind die Daten, die du mitschickst.
subscribeToEvent()	eventName (string), callback (function)	Registriert eine callback-Funktion, die immer dann aufgerufen wird, wenn das eventName-Signal gesendet wird.

In Google Sheets exportieren
Beispiel: Eine Statistik-App, die auf Notizen reagiert

Stell dir vor, unsere Notizen-App sendet jedes Mal ein Signal, wenn eine neue Notiz gespeichert wird.

/apps/notes/main.js (Ausschnitt):

JavaScript

// ... in der Funktion, die Notizen speichert ...
const noteContent = textarea.value;
api.saveData('notes', 'content', noteContent);

// Event senden!
api.publishEvent('notes:saved', { charCount: noteContent.length });
Jetzt kann eine neue Statistik-App dieses Signal abonnieren und darauf reagieren.

/apps/stats/main.js:

JavaScript

export function init(api, appRootElement) {
    let totalChars = 0;
    appRootElement.innerHTML = `<h3>Zeichen in Notizen: <span id="char-count">...</span></h3>`;
    const countSpan = appRootElement.querySelector('#char-count');

    // Wir lauschen auf das Signal der Notizen-App
    api.subscribeToEvent('notes:saved', (data) => {
        console.log("Neues Signal von der Notizen-App empfangen!", data);
        totalChars = data.charCount;
        countSpan.textContent = totalChars;
    });
}
Dieses System ermÃ¶glicht es, komplexe Apps zu bauen, die zusammenarbeiten, ohne die StabilitÃ¤t oder Sicherheit des Systems zu gefÃ¤hrden.

5. AbschlieÃŸende Dateistruktur ğŸ“
Plaintext

/focus-dashboard/
â”œâ”€â”€ index.html
â”œâ”€â”€ style.css
â”œâ”€â”€ README.md
â”œâ”€â”€ js/
â”‚   â”œâ”€â”€ main.js
â”‚   â”œâ”€â”€ /core/
â”‚   â”‚   â”œâ”€â”€ planner.js
â”‚   â”‚   â”œâ”€â”€ todo.js
â”‚   â”‚   â”œâ”€â”€ timer.js
â”‚   â”‚   â””â”€â”€ ui.js
â”‚   â””â”€â”€ /services/
â”‚       â”œâ”€â”€ appLoader.js
â”‚       â”œâ”€â”€ dashboardAPI.js
â”‚       â””â”€â”€ stateManager.js
â””â”€â”€ apps/
    â”œâ”€â”€ /focus-fm/
    â”‚   â”œâ”€â”€ app.json
    â”‚   â””â”€â”€ ...
    â”œâ”€â”€ /routine/
    â”‚   â”œâ”€â”€ app.json
    â”‚   â””â”€â”€ ...
    â””â”€â”€ ...